<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="GS1DigitalLinkToolkit.js"></script>
<style type="text/css">
body { font-family: Arial, Helvetica, Geneva, sans-serif; }
h1 { text-align: center; }
table { width: 100%; }
td.label { width: 14em; }
td.demobutton { width: 4em; }
input {width: 100%;}
</style>
</head>
<body>
<h1>Simple demo page for GS1DigitalLinkToolkit.js</h1>
<p>This simple demo page will soon be further developed to add further features and flexibility</p>
&nbsp;<br/>
<hr/>
&nbsp;<br/>
<div id="app1">
<h2>Convert GS1 element strings to GS1 Digital Link URI</h2>
<table>
<tr><td class="label">Input: Element string</td><td><input type="text" v-model="elementStringInput"></td><td class="demobutton"><input type="button" value="Demo" @click="demo1"></td></tr>
<tr><td class="label">Output: GS1 Digital Link URI</td><td colspan="2"><input type="text" v-model="digitalLinkOutput"></td></tr>
<tr><td class="label">Error:</td><td colspan="2"><input type="text" v-model="error1"></td></tr>
</table>
&nbsp;<br/>
<hr/>
&nbsp;<br/>
<h2>Convert GS1 element strings to GS1 Digital Link URI</h2>
<table>
<tr><td class="label">Input: GS1 Digital Link URI</td><td><input type="text" v-model="digitalLinkInput"></td><td class="demobutton"><input type="button" value="Demo"  @click="demo2"></td></tr>
<tr><td class="label">Output: Element string</td><td colspan="2"><input type="text" v-model="elementStringOutput"></td></tr>
<tr><td class="label">Error:</td><td colspan="2"><input type="text" v-model="error2"></td></tr>
</table>

</div>
<script language="javascript">
var digitalLinkInput = "";
var elementStringInput = "";
var error1 = "";
var error2 = "";
var gs1dlt = new GS1DigitalLinkToolkit();


	var app1 = new Vue({
		el: "#app1",
		data : {
			elementStringInput : elementStringInput,
			digitalLinkInput : digitalLinkInput,
			error1: error1,
			error2: error2,
			gs1dlt : gs1dlt
		},
		computed : {
			digitalLinkOutput : function() {
				if (this.elementStringInput !== "") {
					try {
						this.error1="";
						return gs1dlt.gs1ElementStringsToGS1DigitalLink(this.elementStringInput, true, 'http://example.org');			
					} catch(err) {
						this.digitalLinkOutput="";
						this.error1=err;
						return "";
					}
				} else {
				return "";
				}
			},
			elementStringOutput : function() {
				if (this.digitalLinkInput !== "") {
					try {
						this.error2="";
						return gs1dlt.gs1digitalLinkToGS1elementStrings(this.digitalLinkInput, true);
					} catch(err) {
						this.elementStringOutput="";
						this.error2=err;
						return "";
					}
				} else {
				return "";
				}
			}
		},
		methods : {
			demo1 : function() {
				this.elementStringInput="(3103)000189(01)05412345000013(3923)2172(10)ABC&+123";
			},
			demo2 : function() {
				this.digitalLinkInput="https://example.org/gtin/054123450013/lot/ABC%26%2B123?3103=000189&3923=2172";
			}
		}
	});

</script>
</body>
</html>
